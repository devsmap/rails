const apiResponse = [
    {
        city: 'Australia',
        skills: ['Ruby', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: '',
        type: 'Tempo Integral',
        language: ['Flutter', 'Ruby'],
        title: "Flutter e Ruby",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -37.8210922667,
        long: 175.2209316333,
        checked: false,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    },
    {
        city: 'Australia',
        skills: ['Ruby', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: '',
        checked: false,
        type: 'Tempo Integral',
        language: ['Ruby'],
        title: "Desenvolvedor(a) Ruby on Rails / Vue.js - Pleno - Full Stack | Pleno",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -40.8210922667,
        long: 170.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    },
    {
        city: 'Australia',
        skills: ['Ruby', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: '',
        checked: false,
        type: 'Tempo Integral',
        language: ['NodeJS'],
        title: "Desenvolvedor(a) Ruby on Rails / Vue.js - Pleno - Full Stack | Pleno",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -38.8210922667,
        long: 178.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    },
    {
        city: 'Australia',
        skills: ['Ruby', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: '',
        checked: true,
        type: 'Tempo Integral',
        language: ['NodeJS'],
        title: "Desenvolvedor(a) Ruby on Rails / Vue.js - Pleno - Full Stack | Pleno",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -31.8210922667,
        long: 171.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    },
    {
        city: 'Australia',
        checked: true,
        skills: ['Ruby', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: '',
        type: 'Tempo Integral',
        language: ['NodeJS'],
        title: "Desenvolvedor(a) Ruby on Rails / Vue.js - Pleno - Full Stack | Pleno",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -36.8210922667,
        long: 176.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    },
    {
        city: 'Australia',
        checked: true,
        skills: ['Ruby', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: '',
        type: 'Tempo Integral',
        language: ['NodeJS'],
        title: "Desenvolvedor(a) Ruby on Rails / Vue.js - Pleno - Full Stack | Pleno",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -34.8210922667,
        long: 172.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    },
    {
        city: 'Australia',
        checked: true,
        skills: ['Ruby', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: '',
        type: 'Tempo Integral',

        language: ['NodeJS'],
        title: "Desenvolvedor(a) Ruby on Rails / Vue.js - Pleno - Full Stack | Pleno",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -37.8210922667,
        long: 179.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    },
    {
        city: 'Australia',
        checked: true,
        skills: ['Ruby', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: '',
        type: 'Tempo Integral',
        language: ['NodeJS'],
        title: "Desenvolvedor(a) Ruby on Rails / Vue.js - Pleno - Full Stack | Pleno",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -37.8210922667,
        long: 171.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    },
    {
        city: 'Australia',
        checked: true,
        skills: ['Ruby on Rails', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: '',
        type: 'Tempo Integral',
        language: ['NodeJS'],
        title: "Desenvolvedor(a) Ruby on Rails / Vue.js - Pleno - Full Stack | Pleno",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -37.8210922667,
        long: 173.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    },
    {
        city: 'Australia',
        checked: true,
        skills: ['Ruby on Rails', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: 'R$ 80023',
        type: 'Tempo Integral',
        language: ['NodeJS'],
        title: "Desenvolvedor(a) Ruby on Rails / Vue.js - Pleno - Full Stack | Pleno",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -37.8210922667,
        long: 172.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    }, {
        city: 'Australia',
        checked: true,
        skills: ['Ruby', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: 'R$ 8000',
        type: 'Tempo Integral',
        language: ['NodeJS', 'Ruby on Rails'],
        title: "NodeJS e Ruby",
        company_name: "Meu Fornecedor",
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -32.8210922667,
        city: 'Australia',
        long: 175.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    }, {
        city: 'Australia',
        checked: true,
        skills: ['Ruby on Rails', 'NodeJs', 'Javascript'],
        about: 'lorem lorem lorem lorem lorem lorem lorem lorem',
        offer: 'lorem lorem lorem lorem lorem lorem lorem lorem lorem lorem',
        salary: '',
        type: 'Tempo Integral',
        language: ['NodeJS', 'Flutter', 'Ruby on Rails'],
        state: 'CE',
        title: 'NodeJS,Flutter, Rub,',
        company_name: "Meu Fornecedor",
        city: 'Australia',
        location: "Fortaleza - Zone 1, Fortaleza - CE",
        via: "via Empregos Trabajo.org",
        description: "Habilidades: Ruby on Rails on Rails, JavaScript, Vue.js, SQL ; Descrição da empresa: O Meu Fornecedor é um portal dedicado ao food service, agilizando o dia a dia de toda cadeia de fornecedores, distribuidores, restaurantes, mini-mercados e demais atores. Estamos em estágio pré-lançamento, concluindo os últimos detalhes do sistema. O que nós buscamos: A vaga é para um desenvolvedor com experiência de mais de 2 anos em Ruby on Rails on Rails (nosso backend), mas que também consiga trabalhar em um frontend Vue.JS. Além disso, utilizamos testes automatizados, com RSpec e Cypress. Principais responsabilidades: *Obrigatórios:* - 2 anos de experiência em Ruby on Rails - 1 ano de experiência com algum framework de frontend JS (de preferência Vue.JS, mas pode ser Angular, React etc) - testes automatizados (de preferência RSpec e Cypress) - SQL - domínio pleno de português e inglês - comunicação clara *Desejáveis:* - PostgreSQL - Heroku O que nós oferecemos: - 6h/dia - horário livre entre 8h e 18h - não... precisa bater ponto - equipe e chefia divertidas e amigáveis =D",
        thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJUF4GdJrqMs6gGWjLPiihmghRA6LKoP7jWgrX&s=0",
        extensions: ["há 2 dias", "Tempo integral"],
        detected_extensions: {
            posted_at: "há 2 dias",
            schedule_type: "Tempo integral"
        },
        lat: -35.8210922667,
        long: 175.2209316333,
        job_id: "eyJqb2JfdGl0bGUiOiJEZXNlbnZvbHZlZG9yKGEpIFJ1Ynkgb24gUmFpbHMgLyBWdWUuanMgLSBQbGVubyAtIEZ1bGwgU3RhY2sgfCBQbGVubyIsImh0aWRvY2lkIjoiVzFmaHlQWU1kZUNycHlMWUFBQUFBQT09IiwiZ2wiOiJiciIsImhsIjoicHQtYnI",
    }];

let map;

let loading = false;


const mapValue = {
    1: 'React',
    2: 'Python',
    3: 'Java',
    4: 'C#',
    5: 'PHP',
    6: 'Ruby on Rails',
    7: 'UX/UI',
    8: 'QA',
};
const brazilState = {
    AC: {
        jobs: [],
        position: [-8.77, -70.55],
    },
    AL: { position: [-9.71, -35.73], jobs: [] },
    AP: { position: [1.41, -51.77], jobs: [] },
    AM: { position: [-3.07, -61.66], jobs: [] },
    CE: { position: [-3.71, -38.54], jobs: [] },
    DF: { position: [-15.83, -47.86], jobs: [] },
    ES: { position: [-19.19, -40.34], jobs: [] },
    BA: { position: [-12.96, -38.51], jobs: [] },
    GO: { position: [-16.64, -49.31], jobs: [] },
    MA: { position: [-2.55, -44.30], jobs: [] },
    MT: { position: [-12.64, -55.42], jobs: [] },
    MS: { position: [-20.51, -54.54], jobs: [] },
    MG: { position: [-18.10, -44.38], jobs: [] },
    PA: { position: [-5.53, -52.29], jobs: [] },
    PB: { position: [-7.06, -35.55], jobs: [] },
    PR: { position: [-24.89, -51.55], jobs: [] },
    PE: { position: [-8.28, -35.07], jobs: [] },
    PI: { position: [-8.28, -43.68], jobs: [] },
    RJ: { position: [-22.84, -43.15], jobs: [] },
    RN: { position: [-5.22, -36.52], jobs: [] },
    RO: { position: [-11.22, -62.80], jobs: [] },
    RS: { position: [-30.01, -51.22], jobs: [] },
    RR: { position: [1.89, -61.22], jobs: [] },
    SC: { position: [-27.33, -49.44], jobs: [] },
    SE: { position: [-10.90, -37.07], jobs: [] },
    SP: { position: [-23.55, -46.64], jobs: [] },
    TO: { position: [-10.25, -48.25], jobs: [] }
};

function returnOnlyValue(value) {
    return apiResponse.filter((element) => {
        let check = false;
        element.skills.forEach(skill => {
            if (skill == mapValue[value]) {
                check = true;
            }
        });
        return check;
    });
}

function fakeFetch(value) {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            if (value == 0) {
                reject('Bad request');
            };
            loading = true;
            const body = returnOnlyValue(value);
            resolve({ status: 200, body });
        }, 2000);
    });
}

async function callToApi(value) {
    const response = await fakeFetch(value);
    if (response.status = 200) {
        return response.body;
    } else {
        throw Error('Bad request');
    }
}


console.log('Antes de initMap');


function initMap() {
    console.log('INCIADO');
    map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: -3.71, lng: -38.54 },
        zoom: 8,
        minZoom: 1,
        maxZoom: 13,
        panControl: false,
        zoomControl: false,
        mapTypeControl: false,
        scaleControl: false,
        streetViewControl: false,
        overviewMapControl: false,
        rotateControl: false
    });

    google.maps.event.addListener(map, 'idle', function () {
        const bounds = map.getBounds();
        const ne = bounds.getNorthEast();
        const sw = bounds.getSouthWest();
        console.log(ne.lat());
        console.log(ne.lng());
        console.log(sw.lat());
        console.log(sw.lng());
        // O que fazer -> Usar o centro do foco, passar isso pro lockup, saber que país tá perto e depois
        // fazer a chamada

        // Ou -> Passo ne e sw, e o backend, pega essa informação e retorna as vagas perto dessas coordeandas
        console.log(map.getZoom());
        console.log('asd' + (new google.maps.LatLngBounds(sw, ne)).getCenter().lat()) // Centro do foco
        console.log('asd' + (new google.maps.LatLngBounds(sw, ne)).getCenter().lng()); // Centro do foco
    });

var citys = fetch('./municipios.json').then((response) => response.json()).then((resp) => resp);

const countrys = [
    "Brazil"
];

document.querySelector('#search-btn').addEventListener('click', (e) => {
    e.preventDefault();
    if(loading) {
        document.querySelector('.loading').style.display = 'block';
    }
    const select = document.querySelector('#type');
    const value = select.options[select.selectedIndex].value;
    const tech = mapValue[value];
    console.log(tech);
    const arrayValue = callToApi(value);
    let pinGenerics = {};
    arrayValue.then((response) => {
        response.forEach((value) => {
            if(value.checked) {
                citys.then((response) => {
                    return response.filter((element) => element.nome == value.city)[0];
                }).then((city) => {
                    const {nome:nameCity, latitude:lat,longitude:lng} = city;
                    if(pinGenerics[nameCity]){
                        pinGenerics[nameCity].jobs.push(value);    
                        console.log(pinGenerics[nameCity]);
                    } else {
                        const newLatLng = new google.maps.LatLng(lat,lng);
                        pinGenerics[nameCity] = {
                            jobs: [],
                            marker: new google.maps.Marker({
                                position: newLatLng,
                                map: map
                            }),
                        }
                        pinGenerics[nameCity].jobs.push(value);
                        pinGenerics[nameCity].marker.addListener('click', () => {
                            console.log(pinGenerics[nameCity].jobs);
                        })
                        console.log(pinGenerics[nameCity]);
                    }
                })
            }
        })
    });
    
    
    
        /*             layersGeneric[mapValue[value]].markers.setMap(map);
                    layersGeneric[mapValue[value]].markers.setPosition(new google.maps.LatLng(element.lat, element.long)); */
});
};

    /*   google.maps.event.addListener(map, 'idle', function () {
          const bounds = map.getBounds();
          const ne = bounds.getNorthEast();
          const sw = bounds.getSouthWest();
          console.log(ne.lat());
          console.log(ne.lng());
          console.log(sw.lat());
          console.log(sw.lng());
          // O que fazer -> Usar o centro do foco, passar isso pro lockup, saber que país tá perto e depois
          // fazer a chamada
  
          // Ou -> Passo ne e sw, e o backend, pega essa informação e retorna as vagas perto dessas coordeandas
          console.log(map.getZoom());
          console.log('asd' + (new google.maps.LatLngBounds(sw, ne)).getCenter().lat()) // Centro do foco
          console.log('asd' + (new google.maps.LatLngBounds(sw, ne)).getCenter().lng()); // Centro do foco
      });
*/



